<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:>
<body>
<!-- header fragment -->
<div th:fragment="header">
    <link th:href="@{/style.css}" rel="stylesheet"/>
    <link th:href="@{/navbar.css}" rel="stylesheet"/>
    <link th:href="@{/postMaster.css}" rel="stylesheet"/>
    <link th:href="@{/table.css}" rel="stylesheet"/>

</div>

<!-- nav bar fragment -->
<nav th:fragment="navbar" class="navbar">
    <a href="/in/profile"> Profile</a>
    <a href="/in/"> Feed </a>
    <a href="/login"> Login </a>
    <a href="/signup"> Sign Up </a>
    <a href="/perform_logout"> Log Out</a>
</nav>

<!--Followers Fragment-->
<table th:fragment="followers" class="table">
    <thead>
    <tr>
        <th> Username</th>
        <th> Purpose</th>
    </tr>
    </thead>

    <tr th:each="follower : ${followers}">
        <td th:text="${follower.username}"> Username</td>
        <td th:text="${follower.statementOfPurpose}"> Purpose</td>
    </tr>
</table>

<!-- Post Master fragment-->
<section th:fragment="postMaster" class="postMaster">
    <label> Posting as <span th:text="${actor.firstName}"/> . . </label>
    <form action="/in/" method="post">
        <div>
            <input type="hidden" name="author" th:value="${actor.username}"/>
            <input type="text" name="body" required placeholder="Blank post... ">
        </div>
        <button type="submit"> Post</button>
    </form>
</section>

<!--Post Feed Fragment-->
<table th:fragment="feed" class="table">
    <thead>
    <tr>
        <th>By</th>
        <th>Post</th>
        <!--        <th>Date</th>-->
    </tr>
    </thead>

    <tr th:each="post : ${posts}">
        <td>
            <a th:text="${post.applicationUser.username}" th:href="@{/in/profile/} + ${post.applicationUser.getId()}"/>
        </td>
        <td th:text="${post.body}"/>
    </tr>
</table>

</body>
</html>